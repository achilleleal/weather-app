(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],[,,,,,,,function(e,t,a){e.exports=a.p+"static/media/github-logo.f1e77217.svg"},function(e,t,a){e.exports=a.p+"static/media/rain.d1668868.svg"},function(e,t,a){e.exports=a.p+"static/media/sun.fdd37e8a.svg"},function(e,t,a){e.exports=a(17)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(6),l=a.n(c),s=a(1),o=a(2),m=a(4),i=a(3),u=a(7),d=a.n(u),p=function(){return r.a.createElement("footer",{className:"text-white text-center pt-4 pb-2"},r.a.createElement("h3",null,"Made with ",r.a.createElement("span",{role:"img","aria-label":"love"},"\u2764\ufe0f")," by Sebasti\xe1n Leal, 2020"),r.a.createElement("nav",{className:"flex justify-center my-2"},r.a.createElement("a",{href:"https://github.com/achilleleal/weather-app"},r.a.createElement("img",{src:d.a,alt:"github",className:"w-8 duration-300 transform hover:scale-110"}))))},h=function(e){var t=e.forecast,a=e.temp,n=e.icon,c=e.className;return r.a.createElement("div",{className:"mx-auto rounded p-2 bg-purple-900 text-md w-full  ".concat(c)},r.a.createElement("h1",null,t.toUpperCase()),r.a.createElement("img",{src:"http://openweathermap.org/img/wn/".concat(n,"@2x.png"),className:"mx-auto w-12 md:w-24",alt:""}),r.a.createElement("h1",null,a,"\xba"))},f=function(e){Object(m.a)(a,e);var t=Object(i.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).capitalizeFirstLetter=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},e.state={loaded:!1,futureForecast:[]},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("".concat(this.props.SERVER,"/forecast"),{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({city:this.props.data.city})}).then((function(e){return e.json()})).then((function(t){return e.setState({futureForecast:t,loaded:!0})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this.props.data,t=e.city,a=e.weather,n=e.temp,c=e.feels_like,l=e.icon,s=this.props.toMenu,o=this.state,m=o.futureForecast,i=o.loaded;return r.a.createElement("div",null,r.a.createElement("div",{className:"card mt-4 sm:mt-0"},r.a.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 card-item mb-2 p-2"},r.a.createElement("div",{className:"font-bold flex items-center justify-center"},r.a.createElement("h1",{className:"md:ml-4 text-3xl sm:text-4xl lg:text-5xl"},t)),r.a.createElement("div",{className:"flex items-center justify-center"},r.a.createElement("div",null,r.a.createElement("h1",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold"},n,"\xba"),r.a.createElement("h3",{className:"text-md sm:text-xl"},"Feels like ",c,"\xba"))),r.a.createElement("div",null,r.a.createElement("img",{src:"http://openweathermap.org/img/wn/".concat(l,"@2x.png"),alt:"",className:"w-16 md:w-24 mx-auto"}),r.a.createElement("h2",{className:"sm:text-2xl lg:text-3xl"},this.capitalizeFirstLetter(a)))),r.a.createElement("div",{className:"card-item p-4"},r.a.createElement("h1",{className:"mb-2 text-xl md:text-3xl"},"5 day forecast"),i?r.a.createElement("div",{className:"grid gap-4 grid-cols-2 md:grid-cols-5"},m.error?r.a.createElement("p",{className:"error col-span-5"},m.error):m.map((function(e,t){return r.a.createElement(h,{forecast:e.forecast.toLowerCase(),temp:e.temp,icon:e.icon,className:0===t?"col-span-2 md:col-span-1":""})}))):r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Loading..."),r.a.createElement("div",{class:"loader mx-auto"})))),r.a.createElement("div",{className:"flex mb-4 sm:mb-0"},r.a.createElement("button",{onClick:s,className:"button"},"To menu")))}}]),a}(n.Component),E=a(8),x=a.n(E),g=function(e){var t=e.toMenu,a=e.error;return r.a.createElement("div",null,r.a.createElement("div",{className:"card",style:{maxWidth:"500px"}},r.a.createElement("div",{className:"card-item p-4"},r.a.createElement("h1",{className:"text-2xl"},"Oops, something went wrong."),r.a.createElement("img",{src:x.a,alt:"",className:"w-16 mx-auto my-4"}),r.a.createElement("p",{className:"error"},a))),r.a.createElement("div",{className:"flex"},r.a.createElement("button",{onClick:t,className:"button"},"Try again")))},v=a(9),N=a.n(v),y=(a(15),a(16),"https://weather-apiserver.herokuapp.com"),b=function(e){Object(m.a)(a,e);var t=Object(i.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).toMenu=function(){e.setState({loaded:!1})},e.getWeather=function(){e.state.city.trim()&&fetch("".concat(y,"/weather"),{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({city:e.state.city})}).then((function(e){return e.json()})).then((function(t){e.setState({weatherData:t,loaded:!0})})).catch((function(e){return console.log(e)}))},e.state={loaded:!1,city:"",weatherData:{}},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.loaded,n=t.weatherData;return r.a.createElement(r.a.Fragment,null,r.a.createElement("main",{className:"flex justify-center items-center"},r.a.createElement("div",null,a?n.status?r.a.createElement(f,{data:n,toMenu:this.toMenu,SERVER:y}):r.a.createElement(g,{toMenu:this.toMenu,error:n.error}):r.a.createElement("div",null,r.a.createElement("div",{className:"flex"},r.a.createElement("input",{type:"text",value:this.state.city,onChange:function(t){return e.setState({city:t.target.value})},placeholder:"Enter a city name",className:"py-2 px-4 mx-auto rounded text-black text-center"})),r.a.createElement("img",{src:N.a,className:"spinning-sun my-6 mx-auto",alt:""}),r.a.createElement("div",{className:"flex"},r.a.createElement("button",{className:"button mx-auto",onClick:this.getWeather},"Get Weather"))))),r.a.createElement(p,null))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(b,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[10,1,2]]]);
//# sourceMappingURL=main.b0e5d137.chunk.js.map